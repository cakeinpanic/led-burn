<button>Click</button>

<script>
  function init () {
    const filters =
      [{
          name: 'JBL KATYA',
          //services: ['battery_service']
        }]

    navigator.bluetooth.requestDevice
    ({
        acceptAllDevices: true,
        //filters
      }
    ).then(device => device.gatt.connect()).then(server => {
// Getting Battery Service…
      return server.getPrimaryService('battery_service');
    }).then(service => {
// Getting Battery Level Characteristic…
      return service.getCharacteristic('battery_level');
    }).then(characteristic => {
// Reading Battery Level…
      return characteristic.readValue();
    }).then(value => {
      console.log(`Battery percentage is ${value.getUint8(0)}`);
    }).catch(error => { console.error(error); });
  }
  document.querySelector('button').addEventListener('click', init)
</script>
